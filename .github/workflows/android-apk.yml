name: Build Android APK

on:
workflow_dispatch:

jobs:
build:
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v4

- uses: subosito/flutter-action@v2
with:
flutter-version: "3.24.3"

- name: Flutter pub get
run: flutter pub get

- name: Bootstrap Android project files
run: flutter create --platforms=android .

- name: Build APK (debug)
run: flutter build apk --debug

- name: Upload APK
uses: actions/upload-artifact@v4
with:
name: tensor-alerts-apk
path: build/app/outputs/flutter-apk/app-debug.apk
