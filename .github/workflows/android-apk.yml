{"name":"Build Android APK","on":{"workflow_dispatch":{}},"jobs":{"build":{"runs-on":"ubuntu-latest","steps":[{"uses":"actions/checkout@v4"},{"uses":"subosito/flutter-action@v2","with":{"flutter-version":"3.24.3"}},{"name":"Fresh android scaffold","run":"flutter create --project-name tensor_alerts --platforms=android ."},{"name":"Remove firebase gradle plugin for debug CI","run":"sed -i '/com.google.gms.google-services/d' android/app/build.gradle || true; sed -i '/com.google.gms.google-services/d' android/app/build.gradle.kts || true"},{"name":"Show app gradle header","run":"head -n 20 android/app/build.gradle || true; head -n 20 android/app/build.gradle.kts || true"},{"name":"Flutter pub get","run":"flutter pub get"},{"name":"Build arm64 APK","run":"flutter build apk --debug --target-platform android-arm64"},{"name":"Upload APK","uses":"actions/upload-artifact@v4","with":{"name":"tensor-alerts-apk","path":"build/app/outputs/flutter-apk/app-debug.apk"}}]}}}
